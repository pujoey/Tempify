<navbar></navbar>

<!-- <div class="structure" ng-repeat="s in vm.structures">
  <h1>{{ s.name }}</h1>
  <h3>HOME/AWAY: {{ s.away }}</h3>
  <ul ng-repeat="t in s.thermostats">
    <li>{{ t.name_long }} | Target Temp: {{ t.target_temperature_f }}</li>
  </ul>
</div> -->

<div class="row">
  <div ng-repeat="s in vm.structures">
    <h1>{{ s.name }}</h1>
    <h3>HOME/AWAY: {{ s.away }}</h3>
    <div class="col-sm-4 col-md-4" ng-repeat="t in s.thermostats">
      <div class="thumbnail">
        <div class="caption">
          <h3>{{ t.name_long }}</h3>
          <p>Target Temp: {{ t.target_temperature_f }}</p>
          <p><a href="#" class="btn btn-primary" role="button">Button</a> <a href="#" class="btn btn-default" role="button">Button</a></p>
        </div>
      </div>
    </div>
  </div>
</div>


<footer></footer>



<!-- Template for rendering Nest Thermostat state -->
<script id="thermTemplate" type="text/x-jsrender">
  <div class="mdl-cell mdl-cell--4-col">
    <div class="mdl-card mdl-shadow--2dp demo-card-square">
      <div class="mdl-card__title mdl-card--expand">
        <h2 class="mdl-card__title-text">{{:name_long}}</h2>
      </div>
      <div class="mdl-card__supporting-text">
        <span>
          <b>Temperature:</b>
          {{if temperature_scale === 'C'}}
            {{:target_temperature_c}}&deg;C
          {{else temperature_scale === 'F'}}
            {{:target_temperature_f}}&deg;F
          {{/if}}
        </span>
        <span>&bull;</span>
        <b>Humidity:</b> {{:humidity}}%
        {{if has_leaf}}
          <span>
            &bull;
          </span>
          <img src="/img/nest-leaf.png" class="leaf-img">
        {{/if}}
        {{if has_fan}}
          <span>&bull;</span>
          {{if fan_timer_active}}
            <b>Fan:</b> On ending on {{timeout:fan_timer_timeout}}
          {{else}}
            <b>Fan:</b> Off
          {{/if}}
        {{/if}}
      </div>
    </div>
  </div>
</script>

<!-- Template for rendering Nest Protect state -->
<script id="smokeTemplate" type="text/x-jsrender">
  <div class="mdl-cell mdl-cell--4-col">
    <div class="mdl-card mdl-shadow--2dp demo-card-square">
      <div class="mdl-card__title mdl-card--expand">
        <h2 class="mdl-card__title-text">{{:name_long}}</h2>
      </div>
      <div class="mdl-card__supporting-text">
        <span>
          <b>Battery Health:</b> {{:battery_health}}
        </span>
        <span>&bull;</span>
        <span>
          <b>Smoke state:</b> {{:smoke_alarm_state}}
        </span>
        <br>
        <span>
          <b>CO state:</b> {{:co_alarm_state}}
        </span>
        <span>&bull;</span>
        <span class="color-state"><b>Color state:</b>
          {{if ui_color_state === 'green'}}
            <img src="/img/green-state.png" />
          {{else ui_color_state === 'yellow'}}
            <img src="/img/yellow-state.png" />
          {{else ui_color_state === 'red'}}
            <img src="/img/red-state.png" />
          {{else}}
            <img src="/img/gray-state.png" />
          {{/if}}
        </span>
      </div>
    </div>
  </div>
</script>

<!-- Template for rendering NestCam state -->
<script id="cameraTemplate" type="text/x-jsrender">
  <div class="mdl-cell mdl-cell--4-col">
    <div class="mdl-card mdl-shadow--2dp demo-card-square">
      <div class="mdl-card__title mdl-card--expand" style="{{if last_event}}background: url('{{:last_event.animated_image_url}}') center / cover;{{/if}}">
        <h2 class="mdl-card__title-text">{{:name_long}}</h2>
      </div>
      <div class="mdl-card__supporting-text">
        <span>
          <b>Online:</b>{{if is_online}} Yes {{else}} No {{/if}}
        </span>
        <span>&bull;</span>
        <span>
          <b>Streaming:</b>{{if is_streaming}} Yes {{else}} No {{/if}}
        </span>
        <span>&bull;</span>
        <span>
          <b>Audio:</b>{{if is_audio_input_enabled}} Yes {{else}} No {{/if}}
        </span>
      </div>
    </div>
  </div>
</script>

<!-- Template for rendering each structure (and all devices) -->
<script id="structureTemplate" type="text/x-jsrender">
  <div class="demo-grid-1 mdl-grid">
    <h2 class="mdl-typography--display-3">
      {{:name}}
      <div class="typo-styles__demo mdl-typography--title home-away">Home/Away: {{:away}}</div>
    </h2>
    <br>
    {{for thermostats tmpl="#thermTemplate" /}}
    {{for smokeAlarms tmpl="#smokeTemplate" /}}
    {{for cameras tmpl="#cameraTemplate" /}}
  </div>
</script>

